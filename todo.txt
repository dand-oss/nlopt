(n=`grep -n GEN_ENUMS_HERE ./nlopt-in.hpp | cut -d: -f1`; head -n $n ./nlopt-in.hpp;  echo "  enum algorithm {"; egrep 'NLOPT_[LG][DN]|NLOPT_AUGLAG|NLOPT_G_MLSL|NLOPT_NUM_ALGORITHMS' ./nlopt.h | sed 's/NLOPT_//g'; echo "  };"; echo "  enum result {"; egrep 'NLOPT_[A-Z_]* =' ./nlopt.h | egrep -v 'NLOPT_[LG][DN]' | sed 's/NLOPT_//g'; echo "  };"; tail -n +$n ./nlopt-in.hpp) > nlopt.hpp
(i=0; egrep 'NLOPT_[LG][DN]|NLOPT_AUGLAG|NLOPT_G_MLSL' ./nlopt.h | tr -d ' =0,' | while read n; do echo "      integer $n"; echo "      parameter ($n=$i)"; i=`expr $i + 1`; done; tail -n +`grep -n enum ./nlopt.h |cut -d: -f1 |tail -n 1` ./nlopt.h  | grep NLOPT | egrep -v 'EXTERN|DEPRECATED|MINF_MAX' | cut -d, -f1 | tr -d ' ' | perl -pe 's/([A-Za-z0-9_]+)=([-+0-9]+)/      integer \1\n      parameter (\1=\2)/') > nlopt.f